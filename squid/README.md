# 1984tech for Squid 
Конфиг создавался под версию: **Squid Cache: Version 3.5.25**

Squid - выполняет функцию прозрачного прокси,  без кеширования и без подмены сертификата, тем самым не создает MIT аткаку.

При блокировке `HTTP` трафика - клиенту показывается наша страничка с причиной блокировки.

При блокировке  `HTTPS` трафика - Squid просто сбрасывает соединение и браузер показывает сообщение:

    Не удается получить доступ к сайту

Не забываем, что если сайт не запрещен - то клиент выйдет в интернет через **Squid** с IP-адреса, на котором установлен **Squid**.

### Необходимые действия на сервере где установлен SQUID (Локальный сервер)

- Необходимо добавить правила фаервола для заворота клиентов в Squid 
 
  `# ipfw add 1984 fwd 127.0.0.1,3128 ip from not me to to table\(42\) dst-port 80`

  `# ipfw add 1984 fwd 127.0.0.1,3129 ip from not me to to table\(42\) dst-port 443`

- И запустить скрипт генерации IP-адресов для таблицы 42
      
  `# php cli/ipfwgen --generate`
    
- Или же запустить скрипт, который напрямую обновит фаеровл
   
  `# php cli/ipfwgen --tableupdate`
